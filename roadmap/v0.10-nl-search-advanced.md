# v0.10: Natural Language Search (Advanced)

**Theme**: Search that feels intelligent — query expansion, result summarization, multi-step retrieval.

v0.9 shipped NL→query decomposition. v0.10 makes Qwen3 do real work: expand queries to find more, summarize results into coherent answers, and chain retrieval steps when one search isn't enough.

---

## Query Expansion

Qwen3 broadens the original query to improve recall.

- Generate synonyms, related concepts, and alternative phrasings
- Example: "agent errors" → also search for "failures", "exceptions", "tool_call status=error"
- Expansion is transparent — the user sees what sub-queries were generated

## Result Summarization

Qwen3 synthesizes search results into a coherent response.

```
"what tools did the agent use in the last hour?"
        │
        ▼
   Qwen3: decompose + expand
        │
        ▼
   Hybrid search (multiple sub-queries)
        │
        ▼
   Qwen3: summarize
   → "The agent used 3 tools in the last hour:
      1. web_search (called 5 times, all successful)
      2. code_interpreter (called 2 times, 1 failure)
      3. file_read (called 1 time)"
```

- Structured summaries, not freeform text
- Source attribution — every claim links back to the source result
- Configurable: users can opt out and get raw results (v0.9 behavior)

## Multi-Step Retrieval (Limited)

Qwen3 chains search operations when one round isn't enough.

- Maximum 3 retrieval steps (bounded to prevent runaway)
- Each step's results inform the next step's query
- Example: "what happened after the agent failed?" →
  1. Find failure events
  2. Find events after the failure timestamp
  3. Correlate with state changes

### Guardrails

- Hard cap on retrieval steps (3)
- Hard cap on total results scanned per query
- Timeout per query to prevent Qwen3 from looping

---

## Dependencies

- v0.9 (basic NL search — this extends the Qwen3 integration)

## Open questions

- How aggressive should query expansion be? Too much = noise, too little = missed results
- Should multi-step retrieval be opt-in or default?
- How to present the retrieval chain to the user for transparency?
